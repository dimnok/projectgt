# –î–∏–∞–ª–æ–≥ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–µ—á–µ—Ä–Ω–µ–≥–æ —Ñ–æ—Ç–æ (EveningPhotoLoadingDialog)

**–î–∞—Ç–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏:** 29 –æ–∫—Ç—è–±—Ä—è 2025 –≥–æ–¥–∞

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

`EveningPhotoLoadingDialog` ‚Äî —ç—Ç–æ –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–µ—á–µ—Ä–Ω–µ–≥–æ —Ñ–æ—Ç–æ —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–§–∞–π–ª:** `lib/features/works/presentation/widgets/evening_photo_loading_dialog.dart`

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –¢—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞

1. **–ó–∞–≥—Ä—É–∑–∫–∞ (0-99%)**
   - –õ–∏–Ω–µ–π–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (—Å–∏–Ω–∏–π —Ü–≤–µ—Ç)
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç (0%, 25%, 50%, 75%, 99%)
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶"
   - –ö–Ω–æ–ø–∫–∞ "–ì–æ—Ç–æ–≤–æ" –æ—Ç–∫–ª—é—á–µ–Ω–∞ (—Å–µ—Ä–∞—è)

2. **–ó–∞–≤–µ—Ä—à–µ–Ω–æ (100%)**
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏—Å—á–µ–∑–∞–µ—Ç —Å fade-–∞–Ω–∏–º–∞—Ü–∏–µ–π
   - –ü–æ—è–≤–ª—è–µ—Ç—Å—è –∑–µ–ª—ë–Ω—ã–π –∫—Ä—É–≥ —Å –≥–∞–ª–æ—á–∫–æ–π (scale-–∞–Ω–∏–º–∞—Ü–∏—è)
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–ó–∞–≥—Ä—É–∂–µ–Ω–æ!"
   - –ö–Ω–æ–ø–∫–∞ "–ì–æ—Ç–æ–≤–æ" –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è (—Å–∏–Ω—è—è) —Å –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π

3. **–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–ì–æ—Ç–æ–≤–æ"**
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è callback `onDone`
   - –î–∏–∞–ª–æ–≥ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```dart
EveningPhotoLoadingDialog(
  progress: 0.5,        // 0.0 - 1.0
  isComplete: false,    // false = –∑–∞–≥—Ä—É–∑–∫–∞, true = –≥–æ—Ç–æ–≤–æ
  onDone: () { ... },   // callback –ø—Ä–∏ –≥–æ—Ç–æ–≤–æ
)
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|---------|
| `progress` | `double` | –ó–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (0.0-1.0). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ `isComplete: false` |
| `isComplete` | `bool` | –§–ª–∞–≥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è. –ï—Å–ª–∏ `true`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–∞–ª–æ—á–∫—É |
| `onDone` | `VoidCallback?` | Callback –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–ì–æ—Ç–æ–≤–æ". –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ `_showButton: true` |

## üé¨ –ê–Ω–∏–º–∞—Ü–∏–∏

### FadeTransition (–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞)
- **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 100ms
- **–ö—Ä–∏–≤–∞—è:** `Curves.easeIn`
- **–≠—Ñ—Ñ–µ–∫—Ç:** –ò—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–±–∞—Ä–∞ –ø—Ä–∏ `isComplete: true`

### ScaleTransition (–≥–∞–ª–æ—á–∫–∞)
- **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 300ms
- **–ö—Ä–∏–≤–∞—è:** `Curves.easeOut`
- **–≠—Ñ—Ñ–µ–∫—Ç:** –ü–æ—è–≤–ª–µ–Ω–∏–µ –∑–µ–ª—ë–Ω–æ–≥–æ –∫—Ä—É–≥–∞ —Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º

### AnimatedDefaultTextStyle (–∫–Ω–æ–ø–∫–∞)
- **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 300ms
- **–≠—Ñ—Ñ–µ–∫—Ç:** –ü–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ (—Å–µ—Ä—ã–π ‚Üí —Å–∏–Ω–∏–π)

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å work_data_tab.dart

### –°—Ç–∞—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (Modal Bottom Sheet)
```dart
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Ñ–ª–∞–≥–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
bool _isLoadingEveningPhoto = false;
bool _isEveningPhotoSuccessful = false;

// –ó–∞–¥–µ—Ä–∂–∫–∞ 1.5 —Å–µ–∫ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º
await Future.delayed(const Duration(milliseconds: 1500));
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- UI –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (Modal Bottom Sheet —Å —É—Å–ª–æ–≤–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º)
- –ù–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ 1.5 —Å–µ–∫ (–Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏)
- –õ–æ–≥–∏–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ñ–ª–∞–≥–∞–º–∏

### –ù–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (Dialog + Component)
```dart
// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥ –∑–∞–≥—Ä—É–∑–∫–∏
showDialog(
  context: context,
  barrierDismissible: false,
  builder: (dialogContext) {
    return EveningPhotoLoadingDialog(
      progress: uploadProgress,    // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
      isComplete: false,           // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
      onDone: () => Navigator.pop(context),
    );
  },
);

// –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—Ö
showDialog(
  context: context,
  barrierDismissible: false,
  builder: (dialogContext) {
    return EveningPhotoLoadingDialog(
      progress: 1.0,
      isComplete: true,  // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —É—Å–ø–µ—Ö
      onDone: () { ... },
    );
  },
);
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π)
- ‚úÖ –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ (Cupertino –¥–∏–∑–∞–π–Ω)
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≥–æ—Ç–æ–≤–æ
- ‚úÖ `PopScope(canPop: false)` –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ
- ‚úÖ –õ—É—á—à–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

## üìä –î–∏–∞–≥—Ä–∞–º–º–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏–π

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ t=0ms: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ñ–æ—Ç–æ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ showDialog(..., EveningPhotoLoadingDialog(         ‚îÇ
‚îÇ   progress: 0.0,                                   ‚îÇ
‚îÇ   isComplete: false,  ‚Üê –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è       ‚îÇ
‚îÇ ))                                                 ‚îÇ
‚îÇ üé® –≠–ö–†–ê–ù: "–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶" + 0% + –°–ø–∏–Ω–Ω–µ—Ä             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ t=100-2000ms: photoService.uploadPhotoBytes()     ‚îÇ
‚îÇ üé® –≠–ö–†–ê–ù: 0% ‚Üí 25% ‚Üí 50% ‚Üí 75% ‚Üí 99%            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ t=2100ms: –ë–î –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ                    ‚îÇ
‚îÇ Navigator.pop() ‚Üí –∑–∞–∫—Ä—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥ –∑–∞–≥—Ä—É–∑–∫–∏       ‚îÇ
‚îÇ showDialog(..., EveningPhotoLoadingDialog(        ‚îÇ
‚îÇ   progress: 1.0,                                  ‚îÇ
‚îÇ   isComplete: true,  ‚Üê –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —É—Å–ø–µ—Ö    ‚îÇ
‚îÇ ))                                                ‚îÇ
‚îÇ üé® –≠–ö–†–ê–ù: "–ó–∞–≥—Ä—É–∂–µ–Ω–æ!" + ‚úÖ –ì–∞–ª–æ—á–∫–∞              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ì–æ—Ç–æ–≤–æ"                     ‚îÇ
‚îÇ onDone() ‚Üí Navigator.pop()                        ‚îÇ
‚îÇ üé® –î–∏–∞–ª–æ–≥ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –≤–∏–¥–∏–º Bottom Sheet        ‚îÇ
‚îÇ üìä –§–æ—Ç–æ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Å–º–µ–Ω—ã              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üé® –î–∏–∑–∞–π–Ω –∏ —Ü–≤–µ—Ç–∞

```dart
// Cupertino Colors
_colorGreen = CupertinoColors.systemGreen        // –ì–∞–ª–æ—á–∫–∞
_colorBlue = CupertinoColors.systemBlue          // –ü—Ä–æ–≥—Ä–µ—Å—Å + –∫–Ω–æ–ø–∫–∞
_colorGrey = CupertinoColors.systemGrey          // –ü—Ä–æ—Ü–µ–Ω—Ç —Ç–µ–∫—Å—Ç–∞
_colorGrey5 = CupertinoColors.systemGrey5        // –§–æ–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å–±–∞—Ä–∞
_colorGrey3 = CupertinoColors.systemGrey3        // –û—Ç–∫–ª—é—á—ë–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞

// Progress Bar
_progressBarValueColor = 0xD9007AFF              // –°–∏–Ω–∏–π (85% opacity)
_progressBarShadowColor = 0x33007AFF             // –¢–µ–Ω—å —Å–∏–Ω—è—è (20% opacity)

// Success Circle
_successCircleGreenBg = 0x1900C34E               // –ó–µ–ª—ë–Ω—ã–π —Ñ–æ–Ω (10% opacity)
_successBorderWidth = 2.5                        // –¢–æ–ª—â–∏–Ω–∞ –≥—Ä–∞–Ω–∏—Ü—ã
```

## ‚öôÔ∏è –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ª–æ–≥–∏–∫–∞

### initState()
```dart
// –°–æ–∑–¥–∞—ë–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–π
_fadeController = AnimationController(...);      // –î–ª—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–±–∞—Ä–∞
_scaleController = AnimationController(...);     // –î–ª—è –ø–æ—è–≤–ª–µ–Ω–∏—è –≥–∞–ª–æ—á–∫–∏

// –ï—Å–ª–∏ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
if (widget.isComplete) {
  _showSuccess();  // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å—Ä–∞–∑—É
}
```

### didUpdateWidget()
```dart
// –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ isComplete
if (!oldWidget.isComplete && widget.isComplete) {
  _showSuccess();  // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é, –∫–æ–≥–¥–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å
}
```

### _showSuccess()
```dart
// 1Ô∏è‚É£ –ó–∞–ø—É—Å–∫–∞–µ–º fade-–∞–Ω–∏–º–∞—Ü–∏—é (–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–±–∞—Ä–∞)
_fadeController.forward();

// 2Ô∏è‚É£ –° –∑–∞–¥–µ—Ä–∂–∫–æ–π 50ms –≤–∫–ª—é—á–∞–µ–º scale-–∞–Ω–∏–º–∞—Ü–∏—é (–ø–æ—è–≤–ª–µ–Ω–∏–µ –≥–∞–ª–æ—á–∫–∏)
await Future.delayed(_circleShowDelay);  // 50ms
_scaleController.forward();

// 3Ô∏è‚É£ –° –∑–∞–¥–µ—Ä–∂–∫–æ–π 100ms –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É "–ì–æ—Ç–æ–≤–æ"
setState(() => _showButton = true);
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```dart
// –®–∞–≥ 1: –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥ –∑–∞–≥—Ä—É–∑–∫–∏
showDialog(
  context: context,
  barrierDismissible: false,
  builder: (dialogContext) {
    return EveningPhotoLoadingDialog(
      progress: 0.0,
      isComplete: false,
      onDone: () => Navigator.of(context, rootNavigator: true).pop(),
    );
  },
);

// –®–∞–≥ 2: –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–æ—Ç–æ
final url = await photoService.uploadPhotoBytes(...);

// –®–∞–≥ 3: –û–±–Ω–æ–≤–ª—è–µ–º –ë–î
await ref.read(worksProvider.notifier).updateWork(updatedWork);

// –®–∞–≥ 4: –ó–∞–∫—Ä—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥ –∑–∞–≥—Ä—É–∑–∫–∏
navigator.pop();

// –®–∞–≥ 5: –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥ —É—Å–ø–µ—Ö–∞
showDialog(
  context: context,
  barrierDismissible: false,
  builder: (dialogContext) {
    return EveningPhotoLoadingDialog(
      progress: 1.0,
      isComplete: true,
      onDone: () {
        Navigator.of(dialogContext, rootNavigator: true).pop();
        Navigator.of(context, rootNavigator: true).pop();  // –ó–∞–∫—Ä—ã–≤–∞–µ–º bottom sheet
        _updateWorkInMonthGroups(updatedWork);
      },
    );
  },
);
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **PopScope(canPop: false)** ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ back-–∫–Ω–æ–ø–∫—É
- **if (!mounted) return;** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ async –æ–ø–µ—Ä–∞—Ü–∏–π
- **barrierDismissible: false** ‚Äî –Ω–µ–ª—å–∑—è –∑–∞–∫—Ä—ã—Ç—å, –Ω–∞–∂–∞–≤ –≤–Ω–µ –¥–∏–∞–ª–æ–≥–∞
- **–ö–Ω–æ–ø–∫–∞ "–ì–æ—Ç–æ–≤–æ" –æ—Ç–∫–ª—é—á–µ–Ω–∞** ‚Äî –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏

## üéØ –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç–º–µ–Ω—ã –∑–∞–≥—Ä—É–∑–∫–∏ (–∫–Ω–æ–ø–∫–∞ X)
- [ ] –í—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ –±–∞–π—Ç–∞—Ö/–ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É—Ç—Ä–∞ –∏ –Ω–æ—á–∏ (—Ä–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏ (—Ñ–æ—Ç–æ —É—Ç—Ä–∞, –¥–æ–∫—É–º–µ–Ω—Ç—ã)

---

**–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è:** 29 –æ–∫—Ç—è–±—Ä—è 2025
**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:** Flutter Team
