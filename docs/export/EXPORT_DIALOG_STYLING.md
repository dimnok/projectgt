# 🎨 Стилизация диалога "Экспорт в Excel"

**Дата обновления:** 18 октября 2025

---

## ✨ Улучшения дизайна

### 1. **Типография и иерархия**

✅ **Заголовок диалога:**
- Размер: `headlineSmall`
- Вес: `FontWeight.w700` (bold)
- Цвет: соответствует теме `onSurface`

✅ **Секции (Выберите колонки, Дополнительно):**
- Размер: `titleSmall`
- Вес: `FontWeight.w600`
- Цвет: `onSurface` с 80% прозрачностью (эффект secondary)

✅ **Элементы списков:**
- Размер: `bodyMedium`
- Вес: `FontWeight.w500`

### 2. **Spacing и отступы**

**Диалог:**
- `titlePadding`: 24px слева/справа, 24px сверху, 16px снизу
- `contentPadding`: 24px слева/справа, 16px снизу
- `actionsPadding`: 24px слева/справа, 20px снизу

**Элементы внутри:**
- Между заголовком и списком: 12px
- Между чекбоксами: встроено в Container
- Между секциями: 20px
- Между кнопками: 12px

### 3. **Контейнеры для секций**

✅ **Стиль контейнера:**
```dart
BoxDecoration(
  border: Border.all(
    color: outline.withValues(alpha: 0.2),  // Тонкий бордер
  ),
  borderRadius: BorderRadius.circular(12),
  color: isDark ? surfaceContainerLow : surfaceContainerHighest.withValues(alpha: 0.3),
)
```

**Результат:**
- Светлая тема: мягкий фон с бордером
- Тёмная тема: контрастный фон с бордером
- Единообразный вид всех контейнеров

### 4. **Чекбоксы в списке**

✅ **Стилизация:**
- `dense: false` — нормальный размер
- `padding`: 16px горизонтально, 8px вертикально
- `visualDensity`: compact
- Граница только у первого и последнего элемента

✅ **Визуальная группировка:**
```dart
shape: RoundedRectangleBorder(
  borderRadius: BorderRadius.vertical(
    top: Radius.circular(isLast ? 0 : 12),
    bottom: Radius.circular(isLast ? 12 : 0),
  ),
)
```

### 5. **Переключатель группировки**

✅ **Улучшения:**
- Подзаголовок добавлен (описание опции)
- Таблет с серым фоном (как список чекбоксов)
- Правильные отступы и типография

### 6. **Кнопки**

**Отмена (TextButton):**
- Цвет: `onSurface` с 70% прозрачностью
- Вес шрифта: `FontWeight.w600`
- Padding: 24px × 12px

**Экспорт (FilledButton):**
- Фон: `primary`
- Текст: `onPrimary`
- Вес шрифта: `FontWeight.w600`
- Padding: 24px × 12px
- Зазор между кнопками: 12px

### 7. **Поддержка темы**

✅ **Светлая тема:**
- Светлый фон контейнеров
- Тёмный текст
- Нежный серый бордер

✅ **Тёмная тема:**
- Тёмный фон контейнеров (`surfaceContainerLow`)
- Светлый текст
- Приглушённый белый бордер

---

## 📐 Макет структуры

```
┌─────────────────────────────────────────────┐
│  Экспорт в Excel                   (x)     │ ← headlineSmall, bold
├─────────────────────────────────────────────┤
│  Выберите колонки для выгрузки              │ ← titleSmall, secondary
│  ┌─────────────────────────────────────────┐│
│  │ ☑ Объект                                ││
│  │ ☑ Договор                               ││
│  │ ☑ Система                               ││
│  │ ... (остальные колонки)                 ││
│  │ ☑ Сумма                                 ││
│  └─────────────────────────────────────────┘│
│                                              │
│  ─────────────────────────────────────────  │ ← Divider
│                                              │
│  Дополнительно                              │ ← titleSmall, secondary
│  ┌─────────────────────────────────────────┐│
│  │ ◯ Дополнительная группировка       │◯|  │
│  │   Объект + договор + ...                ││
│  └─────────────────────────────────────────┘│
│                                              │
│  [  Отмена  ]          [  Экспорт  ]       │
└─────────────────────────────────────────────┘
```

---

## 🎯 Преимущества новой стилизации

✅ Чёткая иерархия информации  
✅ Современный и минималистичный дизайн  
✅ Полная поддержка светлой и тёмной темы  
✅ Правильный spacing для читаемости  
✅ Визуальная группировка элементов (контейнеры)  
✅ Профессиональный внешний вид  
✅ Удобство использования  

