# 📖 Инструкция по модулю Материалы — Полная документация

## 🎯 Быстрый старт

### Для конечных пользователей:
1. Откройте приложение → Профиль (иконка пользователя)
2. Нажмите **"Инструкции"**
3. Выберите карточку **"Материалы"**
4. Прочитайте пошаговое руководство в диалоговом окне

### Для разработчиков:
- **Инструкция пользователя:** [`USER_GUIDE_MATERIALS.md`](USER_GUIDE_MATERIALS.md)
- **Статус реализации:** [`ИНСТРУКЦИЯ_ГОТОВА.md`](ИНСТРУКЦИЯ_ГОТОВА.md)
- **Техническая документация:** [`materials_module.md`](materials_module.md)

---

## 📚 Что в инструкции

### ✅ 5 основных задач:

1. **Импорт накладной** — как загрузить документ от поставщика
2. **Привязка материалов к смете** — как связать накладные со сметой
3. **Просмотр таблицы материалов** — как читать и фильтровать данные
4. **Проверка расхода материалов** — как контролировать использование
5. **Экспорт отчёта в Excel** — как выгрузить результаты

### ✅ Дополнительно:

- 🔄 **Типичный рабочий цикл** — день за днём
- ⚠️ **Частые ошибки и решения** — готовые ответы
- 💡 **Советы для опытных** — лайфхаки
- 📞 **Помощь и поддержка** — кому обратиться
- 📋 **Контрольный список** — перед началом работы

---

## 🎨 Интеграция в приложение

### Обновлённый файл:
📁 `lib/features/profile/presentation/screens/instructions_screen.dart`

### Что изменилось:

**Было:** Заглушка "В разработке" 🚫

**Стало:** Интерактивная сетка модулей ✅

```
┌────────────────────────────────────────┐
│   📖 Инструкции и руководства          │
├────────────────────────────────────────┤
│                                        │
│  ┌──────────┐  ┌──────────┐           │
│  │Материалы │  │ Табель   │  ... (6)  │
│  │━━━━━━━━━━│  │━━━━━━━━━━│           │
│  │Импорт    │  │Заполнен- │           │
│  │накладных │  │ие табеля │           │
│  │Открыть → │  │Открыть → │           │
│  └──────────┘  └──────────┘           │
│                                        │
│  💡 Совет: Обновляйте инструкции...    │
│                                        │
└────────────────────────────────────────┘
```

### Адаптивность:
- **Desktop (>1200px):** 3 колонки
- **Tablet (600-1200px):** 2 колонки
- **Mobile (<600px):** 1 колонка

---

## 📊 Структура инструкции

```markdown
USER_GUIDE_MATERIALS.md (≈1500 строк)

📌 Краткое описание
   └─ Зачем нужен модуль

🎯 Основные задачи
   ├─ Задача 1: Импорт накладной
   │  ├─ Когда это нужно?
   │  ├─ Как это сделать (шаги)
   │  ├─ Примеры
   │  └─ 💡 Советы
   ├─ Задача 2: Привязка материалов
   │  ├─ Когда это нужно?
   │  ├─ Почему это важно?
   │  ├─ Как это сделать (шаги)
   │  ├─ Примеры привязки
   │  └─ 💡 Советы
   ├─ Задача 3: Просмотр таблицы
   │  ├─ Колонки таблицы
   │  ├─ Фильтры
   │  ├─ Примеры использования
   │  └─ 💡 Советы
   ├─ Задача 4: Проверка расхода
   │  ├─ Как это сделать
   │  ├─ Примеры
   │  └─ Что если ошибка?
   └─ Задача 5: Экспорт в Excel
      ├─ Как это сделать (шаги)
      ├─ Что будет в экспорте
      └─ 💡 Советы

🔄 Типичный рабочий цикл
   ├─ День 1 (Понедельник)
   ├─ Дни 2-7 (Вторник-Воскресенье)
   └─ По итогам недели (Пятница)

⚠️ Частые ошибки и решения
   ├─ Ошибка 1: "Материал не привязан"
   ├─ Ошибка 2: "Остаток отрицательный"
   ├─ Ошибка 3: "Не могу загрузить файл"
   └─ Ошибка 4: "Неправильно привязался материал"

💡 Советы для опытных пользователей
   ├─ Совет 1: Быстрый поиск
   ├─ Совет 2: Сортировка по остаткам
   ├─ Совет 3: Групповая привязка
   └─ Совет 4: Проверка перед отправкой

📞 Помощь и поддержка
   └─ Что делать, если...

📋 Контрольный список
   └─ Готов ли пользователь?
```

---

## 🔗 Как подключить диалог инструкции

### В приложении:

```dart
// lib/features/profile/presentation/screens/instructions_screen.dart

_InstructionCard(
  title: 'Материалы',
  description: 'Импорт накладных, привязка к смете, учёт расходов',
  icon: Icons.inventory_2,
  onTap: () => _openMaterialsGuide(context),  // ← Открывает диалог
),
```

### В диалоге отображается:

```
┌─────────────────────────────────────────────┐
│ Руководство: Модуль Материалы          [X] │
├─────────────────────────────────────────────┤
│                                             │
│ 📌 МОДУЛЬ МАТЕРИАЛЫ                         │
│                                             │
│ Краткое описание:                           │
│ Система учёта строительных материалов...   │
│                                             │
│ 🎯 ОСНОВНЫЕ ЗАДАЧИ:                         │
│                                             │
│ 1️⃣ ИМПОРТ НАКЛАДНОЙ                        │
│    • Откройте раздел "Материалы"            │
│    • Нажмите кнопку "Импорт"                │
│    • Выберите файл Excel или CSV            │
│    ...                                      │
│                                             │
│ [Прокручиваемое содержимое]                 │
│                                             │
├─────────────────────────────────────────────┤
│                [Закрыть]                    │
└─────────────────────────────────────────────┘
```

---

## 🚀 Следующие шаги

### Фаза 1: Сейчас ✅
- [x] Инструкция по Материалам
- [x] Интеграция в экран Инструкции
- [x] Адаптивный дизайн

### Фаза 2: Рекомендуется
- [ ] USER_GUIDE_TIMESHEET.md — Табель
- [ ] USER_GUIDE_WORKS.md — Работы
- [ ] USER_GUIDE_ESTIMATES.md — Сметы
- [ ] USER_GUIDE_CONTRACTORS.md — Контрагенты
- [ ] USER_GUIDE_FOT.md — ФОТ

### Фаза 3: Улучшения
- [ ] Видео-версия инструкций
- [ ] Хранение инструкций в БД (Supabase)
- [ ] PDF экспорт инструкций
- [ ] Контекстная справка (F1 на каждом экране)
- [ ] Многоязычная поддержка

---

## 📝 Технические детали

### Файлы:

| Файл | Размер | Описание |
|------|--------|---------|
| `USER_GUIDE_MATERIALS.md` | ~1500 строк | Полная инструкция пользователя |
| `ИНСТРУКЦИЯ_ГОТОВА.md` | ~400 строк | Статус и чек-лист |
| `instructions_screen.dart` | ~400 строк | UI компонент в приложении |
| `materials_module.md` | ~1100 строк | Техническая документация |

### Форматирование:

- ✅ Markdown стандарт
- ✅ Unicode Emoji для визуального разделения
- ✅ Таблицы и примеры кода
- ✅ Оптимизировано для печати и PDF

### Лингвистика:

- ✅ Простой и понятный язык
- ✅ Без сложных терминов (или объяснены)
- ✅ Примеры из реальной практики
- ✅ Фокус на "как сделать", а не "почему"

---

## ✅ Чек-лист качества

- [x] Инструкция полная и понятная
- [x] Все 5 основных задач описаны
- [x] Примеры приведены (с реальными данными)
- [x] Ошибки и решения описаны
- [x] Советы для опытных пользователей
- [x] Интеграция с UI (диалог)
- [x] Адаптивность (всех размеров экранов)
- [x] Без линтер ошибок в коде
- [x] Форматирование единообразно
- [x] Документация о выполнении

---

## 📞 Контакты

Если у вас есть вопросы или предложения:

1. **По инструкции:** [USER_GUIDE_MATERIALS.md](USER_GUIDE_MATERIALS.md)
2. **По реализации:** [ИНСТРУКЦИЯ_ГОТОВА.md](ИНСТРУКЦИЯ_ГОТОВА.md)
3. **Техническое:** [materials_module.md](materials_module.md)
4. **По коду:** `lib/features/profile/presentation/screens/instructions_screen.dart`

---

**Статус:** ✅ Готово к использованию  
**Дата создания:** октябрь 2025  
**Версия:** 1.0  
**ProjectGT © 2025**
