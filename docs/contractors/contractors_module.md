# –ú–æ–¥—É–ª—å Contractors (–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã)
*–î–∞—Ç–∞: 07.01.2026*

**–°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- **Mobile UI Adaptive Layout:**
    * –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ —Ä–∞–∑–¥–µ–ª–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏: –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –ø–æ–¥–ø–∏—Å–∏ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞–¥ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ), –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ ‚Äî —Å–±–æ–∫—É (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ).
    * –≠—Ç–æ —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—É ¬´–ø—É—Å—Ç—ã—Ö –º–µ—Å—Ç¬ª –ø–æ–¥ –∫–æ—Ä–æ—Ç–∫–∏–º–∏ –ø–æ–¥–ø–∏—Å—è–º–∏ –∏ –¥–∞–µ—Ç –±–æ–ª—å—à–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–¥—Ä–µ—Å–æ–≤).
    * –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω —Ö–µ–¥–µ—Ä –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏: –ø–æ–ª–Ω–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏, –µ—Å–ª–∏ –æ–Ω–æ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ –∏–ª–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∫—Ä–∞—Ç–∫–∏–º, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–º —Å–ø–∏—Å–∫–µ –Ω–∏–∂–µ.
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥—É–ª—è –ø–æ–¥ Feature-first Clean Architecture.
- –ü–µ—Ä–µ–≤–æ–¥ —Å—Ç–µ–π—Ç-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ –Ω–∞ Riverpod 2.0 —Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ (`@riverpod`).
- –í–Ω–µ–¥—Ä–µ–Ω–∏–µ Freezed –¥–ª—è –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ —Å—Ç–µ–π—Ç–∞ –∏ –¥–æ–º–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π.
- –ü–æ–ª–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ UI –∫ Design System (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `GTTextField`, `GTSectionTitle`, `GTPrimaryButton`).
- **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω:** –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `DesktopDialogContent` –∏ `MobileBottomSheetContent`.
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:** —É–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞ `ContractorDetailsDesktopView` –≤ –ø–æ–ª—å–∑—É —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ `ContractorDetailsPanel`.
- **Shared-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** —Å–æ–∑–¥–∞–Ω–∏–µ `ContractorDetailsSections` –∏ `ContractorAvatar` –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ–∂–¥—É Mobile –∏ Desktop.
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è:** –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ `ContractorDialogs.showConfirmDelete` –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Multi-tenancy:** –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–∏–≤—è–∑–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –∫ `company_id`, –≤–Ω–µ–¥—Ä–µ–Ω–∞ –∏–∑–æ–ª—è—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î (RLS) –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.
- –î–µ–ª–µ–≥–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞—Ç–∞–º–∏ `created_at`/`updated_at` –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –ë–î (—Ç—Ä–∏–≥–≥–µ—Ä—ã Supabase).

---

## 2. –í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ
–ú–æ–¥—É–ª—å —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —Ç–∞–±–ª–∏—Ü `contractors` –∏ `contractor_bank_accounts`. –õ—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ö–µ–º–µ —ç—Ç–∏—Ö —Ç–∞–±–ª–∏—Ü –¥–æ–ª–∂–Ω—ã —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –º–æ–¥–µ–ª–µ–π –≤ `lib/features/contractors/data/models/`. –ú–æ–¥—É–ª—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å –≤–Ω–µ—à–Ω–∏–º —Å–µ—Ä–≤–∏—Å–æ–º Da–î–∞ata —á–µ—Ä–µ–∑ Edge Function `dadata-proxy`. –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –ø–æ `company_id` –≤ —Ä–∞–º–∫–∞—Ö Multi-tenancy –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

## 3. –û–ø–∏—Å–∞–Ω–∏–µ
–ú–æ–¥—É–ª—å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ (–ó–∞–∫–∞–∑—á–∏–∫–∏, –ü–æ–¥—Ä—è–¥—á–∏–∫–∏, –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏) —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏.
**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- –í–µ–¥–µ–Ω–∏–µ —Ä–µ–µ—Å—Ç—Ä–∞ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü –∏ –ò–ü —Å –∏–∑–æ–ª—è—Ü–∏–µ–π –ø–æ –∫–æ–º–ø–∞–Ω–∏—è–º.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –ò–ù–ù (DaData).
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ —Å—á–µ—Ç–∞–º–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ (–Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ).
- –•—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–æ–≤ –∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–¥—É–ª—è–º–∏ –î–æ–≥–æ–≤–æ—Ä–æ–≤ (Contracts) –∏ –î–≤–∏–∂–µ–Ω–∏—è –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ (Cash Flow).

## 4. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **Owner (–í–ª–∞–¥–µ–ª–µ—Ü):** `contractors`, `contractor_bank_accounts`.
- **Usage (–ò—Å–ø–æ–ª—å–∑—É–µ—Ç):** 
    - `companies` (–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á `company_id`).
    - `contracts` (–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á `contractor_id`).
    - `cash_flow_entries` (—Å–≤—è–∑—å —á–µ—Ä–µ–∑ `contractor_id`).
    - `estimates` (—Å–≤—è–∑—å —á–µ—Ä–µ–∑ `contractor_id`).

## 5. –°–ª–æ–π Presentation
### –≠–∫—Ä–∞–Ω—ã (Screens):
- `ContractorsListScreen`: –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å–æ —Å–ø–∏—Å–∫–æ–º –∏ –ø–æ–∏—Å–∫–æ–º.
- `ContractorDetailsScreen`: –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞ (–∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –æ–±–µ—Ä—Ç–∫–∞).
    - `ContractorDetailsMobileView`: –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.
    - `ContractorDetailsPanel`: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å –¥–µ—Ç–∞–ª–µ–π (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ Desktop –∏ –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö).
- `ContractorFormScreen`: –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥/—ç–∫—Ä–∞–Ω).

### –í–∏–¥–∂–µ—Ç—ã (Widgets):
- `ContractorDetailsSections`: –ï–¥–∏–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ –≤—Å–µ–º–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏.
- `ContractorAvatar`: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≤–∏–¥–∂–µ—Ç –ª–æ–≥–æ—Ç–∏–ø–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Hero-–∞–Ω–∏–º–∞—Ü–∏–∏.
- `ContractorInfoRow`: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≤–∏–¥–∂–µ—Ç —Å—Ç—Ä–æ–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (label/value).
- `ContractorSection`: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ `ContractorInfoRow`.
- `ContractorBankAccountsList`: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤–∏–¥–∂–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç–∞–º–∏.
- `ContractorBankAccountFormDialog`: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—á–µ—Ç–∞.

### –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Providers):
- `contractorNotifierProvider`: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ CRUD –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏.
- `filteredContractorsProvider`: –†–µ–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ —Å–ø–∏—Å–∫—É –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤.
- `contractorBankAccountNotifierProvider`: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞–º–∏ (family –ø–æ `contractorId`).

## 6. –°–ª–æ–π Domain/Data
- **Entities:** `Contractor`, `ContractorBankAccount` (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Freezed).
- **Use Cases:** 
    - `GetContractorsUseCase`, `GetContractorUseCase`.
    - `CreateContractorUseCase`, `UpdateContractorUseCase`, `DeleteContractorUseCase`.
- **Repositories:** `ContractorRepository` (interface) -> `ContractorRepositoryImpl`.
- **DataSources:** `SupabaseContractorDataSource`.

## 7. –î–µ—Ä–µ–≤–æ —Ñ–∞–π–ª–æ–≤
```
lib/features/contractors/
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ datasources/        # –†–∞–±–æ—Ç–∞ —Å Supabase API
‚îÇ   ‚îú‚îÄ‚îÄ models/             # JSON-–º–∞–ø–ø–∏–Ω–≥
‚îÇ   ‚îî‚îÄ‚îÄ repositories/       # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îú‚îÄ‚îÄ entities/           # –ë–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏ + Extensions
‚îÇ   ‚îú‚îÄ‚îÄ repositories/       # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
‚îÇ   ‚îî‚îÄ‚îÄ usecases/           # –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ presentation/
‚îÇ   ‚îú‚îÄ‚îÄ screens/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ desktop/        # –î–µ—Å–∫—Ç–æ–ø–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (—Å–ø–∏—Å–∫–∏)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mobile/         # –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (–¥–µ—Ç–∞–ª–∏, —Å–ø–∏—Å–∫–∏)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ *.dart          # –û—Å–Ω–æ–≤–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ state/              # Riverpod Notifiers (Generated)
‚îÇ   ‚îî‚îÄ‚îÄ widgets/            # –í–∏–¥–∂–µ—Ç—ã –∏ Shared-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```

## 8. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Audit)
### –¢–∞–±–ª–∏—Ü–∞ `contractors`
| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|----------|
| id | uuid | Primary Key |
| company_id | uuid | Foreign Key -> companies.id |
| full_name | text | –ü–æ–ª–Ω–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ |
| short_name | text | –ö—Ä–∞—Ç–∫–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ |
| inn | text | –ò–ù–ù (10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä) |
| kpp | text | –ö–ü–ü |
| ogrn | text | –û–ì–†–ù |
| okpo | text | –û–ö–ü–û |
| type | text | –¢–∏–ø (customer, contractor, supplier) |
| director | text | –§–ò–û –î–∏—Ä–µ–∫—Ç–æ—Ä–∞ |
| director_phone | text | –¢–µ–ª–µ—Ñ–æ–Ω –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ |
| director_basis | text | –û—Å–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–º–æ—á–∏–π (–£—Å—Ç–∞–≤ –∏ —Ç.–¥.) |
| legal_address | text | –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å |
| actual_address | text | –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å |
| phone | text | –û–±—â–∏–π —Ç–µ–ª–µ—Ñ–æ–Ω |
| email | text | –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞ |
| website | text | –í–µ–±-—Å–∞–π—Ç |
| activity_description | text | –û–ø–∏—Å–∞–Ω–∏–µ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ |
| taxation_system | text | –°–∏—Å—Ç–µ–º–∞ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è |
| is_vat_payer | bool | –ü–ª–∞—Ç–µ–ª—å—â–∏–∫ –ù–î–° |
| vat_rate | numeric | –°—Ç–∞–≤–∫–∞ –ù–î–° |
| logo_url | text | –°—Å—ã–ª–∫–∞ –Ω–∞ Storage |
| created_at | timestamptz | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (DB Default) |
| updated_at | timestamptz | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (Trigger) |

### –¢–∞–±–ª–∏—Ü–∞ `contractor_bank_accounts`
| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|----------|
| id | uuid | Primary Key |
| company_id | uuid | Foreign Key -> companies.id |
| contractor_id | uuid | Foreign Key -> contractors.id |
| bank_name | text | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ |
| bank_city | text | –ì–æ—Ä–æ–¥ –±–∞–Ω–∫–∞ |
| bik | text | –ë–ò–ö |
| account_number | text | –†–∞—Å—á–µ—Ç–Ω—ã–π —Å—á–µ—Ç |
| corr_account | text | –ö–æ—Ä—Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—Å–∫–∏–π —Å—á–µ—Ç |
| is_primary | bool | –û—Å–Ω–æ–≤–Ω–æ–π —Å—á–µ—Ç |

- **RLS:** ‚úÖ –í–∫–ª—é—á—ë–Ω. –î–æ—Å—Ç—É–ø –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –ø–æ `company_id` (—á–µ—Ä–µ–∑ `get_my_company_ids()`) –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `check_permission(auth.uid(), 'contractors', permission)`.
- **–¢—Ä–∏–≥–≥–µ—Ä—ã:** `updated_at` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## 9. –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å UI:** 
    - –†–∞–∑–¥–µ–ª—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω—É—é –≤–µ—Ä—Å—Ç–∫—É (–∫–ª–∞—Å—Å `ContractorInfoRow`): –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –º–µ—Ç–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞–¥ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ), –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ ‚Äî —Å–±–æ–∫—É (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ, `labelWidth: 200`). –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫ (–ò–ù–ù, –∞–¥—Ä–µ—Å–∞, email).
    - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ —Ö–µ–¥–µ—Ä–∞: –¥–ª–∏–Ω–Ω—ã–µ –ø–æ–ª–Ω—ã–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –∏–∑ —à–∞–ø–∫–∏, —á—Ç–æ–±—ã –Ω–µ –∑–∞–≥—Ä–æ–º–æ–∂–¥–∞—Ç—å —ç–∫—Ä–∞–Ω, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–ø–∏—Å–∫–µ –¥–∞–Ω–Ω—ã—Ö.
- **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è UI:** –í—Å–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ —Å—Ç—Ä–æ—è—Ç—Å—è –Ω–∞ –±–∞–∑–µ `ContractorDetailsSections`, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–π —Å–æ—Å—Ç–∞–≤ –ø–æ–ª–µ–π –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö.
- **–ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –º–µ–∂–¥—É `DesktopDialogContent` (—Ü–µ–Ω—Ç—Ä —ç–∫—Ä–∞–Ω–∞) –∏ `MobileBottomSheetContent` (–≤—ã–µ–∑–¥ —Å–Ω–∏–∑—É).
- **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ `ContractorTypeX.label`.
- **–£–¥–∞–ª–µ–Ω–∏–µ:** –î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—â–∏–π –º–µ—Ç–æ–¥ `ContractorDialogs.showConfirmDelete`, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π Design System.

## 10. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **Edge Functions:** `dadata-proxy` ‚Äî –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ DaData.
- **Storage:** –ë–∞—Å–∫–µ—Ç `contractors` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ—Ç–∏–ø–æ–≤.
- **Design System:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `GT`-–≤–∏–¥–∂–µ—Ç–æ–≤ –∏–∑ `lib/core/widgets/`.

## 11. Roadmap
- üü¢ –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Feature-first (–ó–∞–≤–µ—Ä—à–µ–Ω–æ).
- üü¢ –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω (–ó–∞–≤–µ—Ä—à–µ–Ω–æ).
- üü¢ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ Riverpod Generator (–ó–∞–≤–µ—Ä—à–µ–Ω–æ).
- üü° –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞ (–í –ø–ª–∞–Ω–∞—Ö).
- üî¥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —á–µ—Ä–Ω—ã–º–∏ —Å–ø–∏—Å–∫–∞–º–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ (–í –ø–ª–∞–Ω–∞—Ö).
