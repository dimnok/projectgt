# –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: –°–∏—Å—Ç–µ–º–∞ —É—á—ë—Ç–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ñ–∏—Å–Ω—ã—Ö –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

**–î–∞—Ç–∞:** 05 –æ–∫—Ç—è–±—Ä—è 2025 –≥–æ–¥–∞  
**–°—Ç–∞—Ç—É—Å:** üü° –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∫ –æ–±—Å—É–∂–¥–µ–Ω–∏—é  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°—Ä–µ–¥–Ω–∏–π

---

## –ü—Ä–æ–±–ª–µ–º–∞

### –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

–ú–æ–¥—É–ª—å **–¢–∞–±–µ–ª—å** –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–∞—Ö –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `work_hours`, –∫–æ—Ç–æ—Ä–∞—è –∂—ë—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ —Ç–∞–±–ª–∏—Ü–µ `works` (—Å–º–µ–Ω—ã –Ω–∞ –æ–±—ä–µ–∫—Ç–∞—Ö). –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ:

- ‚úÖ **–£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è:** —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –Ω–∞ –æ–±—ä–µ–∫—Ç–∞—Ö –≤ —Å–æ—Å—Ç–∞–≤–µ —Å–º–µ–Ω (—á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –æ—Ç–∫—Ä—ã—Ç–∏—è —Å–º–µ–Ω)
- ‚ùå **–ù–ï —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è:** 
  - **–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–µ —É—á–∞—Å—Ç–≤—É—é—â–∏–π –≤ —Å–º–µ–Ω–∞—Ö:**
    - –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –æ–±—ä–µ–∫—Ç–µ "–¶–û–î –î—É–±–Ω–∞" –µ—Å—Ç—å —Å–º–µ–Ω—ã, –Ω–æ —Ç–∞–∫–∂–µ –µ—Å—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª (–æ—Ö—Ä–∞–Ω–∞, –∏–Ω–∂–µ–Ω–µ—Ä—ã, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –æ–±—ä–µ–∫—Ç–∞), –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ, –Ω–æ –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–∞–≤ —Å–º–µ–Ω
    - –ò—Ö —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –§–û–¢ –¥–æ–ª–∂–Ω—ã —É—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –≤ —ç—Ç–æ–º –∂–µ –æ–±—ä–µ–∫—Ç–µ
  - **–û—Ñ–∏—Å–Ω—ã–µ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏:**
    - –ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ã, –º–µ–Ω–µ–¥–∂–µ—Ä—ã, HR, –¥–∏—Ä–µ–∫—Ç–æ—Ä, –∑–∞–º–µ—Å—Ç–∏—Ç–µ–ª–∏
    - –ò—Ö —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –§–û–¢ –¥–æ–ª–∂–Ω—ã —É—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –≤ –æ–±—ä–µ–∫—Ç–∞—Ö "–û—Ñ–∏—Å" –∏–ª–∏ "–°–∫–ª–∞–¥"
  - **–£–¥–∞–ª—ë–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏** (—Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –æ–±—ä–µ–∫—Ç–∞–º)
  - **–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –≤ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞—Ö** (–≤–Ω–µ —Å–º–µ–Ω –∏ –≤–Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞)

### –ë–∏–∑–Ω–µ—Å-–∫–µ–π—Å: –û–±—ä–µ–∫—Ç "–¶–û–î –î—É–±–Ω–∞"

**–¢–µ–∫—É—â–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã:**
1. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–º–µ–Ω—É –Ω–∞ –æ–±—ä–µ–∫—Ç–µ "–¶–û–î –î—É–±–Ω–∞"
2. –£–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –≤ —Å–º–µ–Ω–µ (–±—Ä–∏–≥–∞–¥–∞)
3. –ü—Ä–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–º —á–∞—Å—ã ‚Üí **—ç—Ç–∏ —á–∞—Å—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ç–∞–±–µ–ª—å** ‚úÖ

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–∞ —Ç–æ–º –∂–µ –æ–±—ä–µ–∫—Ç–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ **–≤–Ω–µ —Å–º–µ–Ω** (–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª)
- –ò—Ö —á–∞—Å—ã **–ù–ï –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ç–∞–±–µ–ª—å** ‚ùå
- –ò—Ö —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –§–û–¢ **–ù–ï —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç–µ "–¶–û–î –î—É–±–Ω–∞"** ‚ùå

### –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è

1. **–ù–µ–ø–æ–ª–Ω–æ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ –æ–±—ä–µ–∫—Ç–∞–º:** –≤ —Ç–∞–±–µ–ª–µ –æ–±—ä–µ–∫—Ç–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–º –ø–µ—Ä—Å–æ–Ω–∞–ª–µ
2. **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á—ë—Ç –§–û–¢ –ø–æ –æ–±—ä–µ–∫—Ç–∞–º:** —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª –æ–±—ä–µ–∫—Ç–∞ –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è
3. **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—á—ë—Ç–∞ –æ—Ñ–∏—Å–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤:** —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –æ—Ñ–∏—Å–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –æ–±—ä–µ–∫—Ç–∞–º "–û—Ñ–∏—Å"/"–°–∫–ª–∞–¥"
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è:** –Ω–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è —É—á—ë—Ç–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤–Ω–µ —Å–º–µ–Ω
5. **–ù–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å:** –≤ –æ—Ç—á—ë—Ç–∞—Ö –ø–æ –æ–±—ä–µ–∫—Ç–∞–º –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∏–∑ —Å–º–µ–Ω

---

## –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥

**–°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É—á—ë—Ç–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, –Ω–µ —É—á–∞—Å—Ç–≤—É—é—â–∏—Ö –≤ —Å–º–µ–Ω–∞—Ö, –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –µ—ë —Å –º–æ–¥—É–ª–µ–º –¢–∞–±–µ–ª—å.**

### 1. –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞: `employee_attendance`

–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –¥–ª—è —É—á—ë—Ç–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, –Ω–µ —É—á–∞—Å—Ç–≤—É—é—â–∏—Ö –≤ —Å–º–µ–Ω–∞—Ö, **—Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –æ–±—ä–µ–∫—Ç—É**:

```sql
CREATE TABLE employee_attendance (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  employee_id UUID NOT NULL REFERENCES employees(id) ON DELETE CASCADE,
  object_id UUID NOT NULL REFERENCES objects(id) ON DELETE RESTRICT, -- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê–Ø –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –æ–±—ä–µ–∫—Ç—É
  date DATE NOT NULL,
  hours NUMERIC NOT NULL DEFAULT 8, -- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8)
  attendance_type TEXT NOT NULL DEFAULT 'work', -- work, vacation, sick_leave, business_trip, day_off
  comment TEXT,
  created_by UUID REFERENCES profiles(id),
  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now(),
  
  -- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å: –æ–¥–∏–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ - –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å –≤ –¥–µ–Ω—å –Ω–∞ –æ–±—ä–µ–∫—Ç–µ
  -- (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö –≤ –æ–¥–∏–Ω –¥–µ–Ω—å)
  UNIQUE(employee_id, object_id, date)
);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
CREATE INDEX idx_employee_attendance_employee ON employee_attendance(employee_id);
CREATE INDEX idx_employee_attendance_object ON employee_attendance(object_id);
CREATE INDEX idx_employee_attendance_date ON employee_attendance(date);
CREATE INDEX idx_employee_attendance_type ON employee_attendance(attendance_type);
CREATE INDEX idx_employee_attendance_employee_date ON employee_attendance(employee_id, date);

-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ —Ç–∞–±–ª–∏—Ü–µ
COMMENT ON TABLE employee_attendance IS '–£—á—ë—Ç —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤–Ω–µ —Å–º–µ–Ω: –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª –æ–±—ä–µ–∫—Ç–æ–≤, –æ—Ñ–∏—Å–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏. –†–∞—Å—Ö–æ–¥—ã –Ω–∞ –§–û–¢ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ –æ–±—ä–µ–∫—Ç–∞–º.';
```

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- **object_id ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ:** –≤—Å–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –§–û–¢ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É
- **–î–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º:** `object_id` = ID –æ–±—ä–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–¶–û–î –î—É–±–Ω–∞")
- **–î–ª—è –æ—Ñ–∏—Å–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:** `object_id` = ID –æ–±—ä–µ–∫—Ç–∞ "–û—Ñ–∏—Å" –∏–ª–∏ "–°–∫–ª–∞–¥"
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:** —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –≤ –¥–µ–Ω—å (–Ω–∞ —Ä–∞–∑–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö)

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª—É–∂–µ–±–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç)

–î–ª—è —É—á—ë—Ç–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –æ—Ñ–∏—Å–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–ª—É–∂–µ–±–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã:

```sql
-- –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ –æ–±—ä–µ–∫—Ç—ã "–û—Ñ–∏—Å" –∏ "–°–∫–ª–∞–¥", –µ—Å–ª–∏ –Ω–µ—Ç - —Å–æ–∑–¥–∞—ë–º
INSERT INTO objects (name, address, status)
VALUES 
  ('–û—Ñ–∏—Å', '–ê–¥—Ä–µ—Å –æ—Ñ–∏—Å–∞', 'active'),
  ('–°–∫–ª–∞–¥', '–ê–¥—Ä–µ—Å —Å–∫–ª–∞–¥–∞', 'active')
ON CONFLICT DO NOTHING;

-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
COMMENT ON COLUMN objects.name IS '–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞. –°–ª—É–∂–µ–±–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã: "–û—Ñ–∏—Å", "–°–∫–ª–∞–¥" ‚Äî –¥–ª—è —É—á—ë—Ç–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º';
```

**–í–∞–∂–Ω–æ:** –°–ª—É–∂–µ–±–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã "–û—Ñ–∏—Å" –∏ "–°–∫–ª–∞–¥" –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö –∏ –æ—Ç—á—ë—Ç–∞—Ö –Ω–∞—Ä–∞–≤–Ω–µ —Å –æ–±—ã—á–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏.

### 3. RLS-–ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è `employee_attendance`

```sql
-- –í–∫–ª—é—á–∞–µ–º RLS
ALTER TABLE employee_attendance ENABLE ROW LEVEL SECURITY;

-- –ê–¥–º–∏–Ω—ã –≤–∏–¥—è—Ç –≤—Å–µ –∑–∞–ø–∏—Å–∏
CREATE POLICY "Admins can view all attendance records"
  ON employee_attendance FOR SELECT
  USING (is_admin());

-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –∑–∞–ø–∏—Å–∏ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, –∫ –∫–æ—Ç–æ—Ä—ã–º –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø
CREATE POLICY "Users can view attendance for their objects"
  ON employee_attendance FOR SELECT
  USING (
    is_admin() OR
    object_id = ANY(
      SELECT unnest(object_ids) FROM profiles WHERE id = auth.uid()
    )
  );

-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏
CREATE POLICY "Users can view their own attendance"
  ON employee_attendance FOR SELECT
  USING (
    employee_id IN (
      SELECT e.id FROM employees e
      JOIN profiles p ON p.id = auth.uid()
      WHERE e.id = employee_id
    )
  );

-- –ê–¥–º–∏–Ω—ã –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞ –æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏
CREATE POLICY "Admins and object managers can insert attendance"
  ON employee_attendance FOR INSERT
  WITH CHECK (
    is_admin() OR
    object_id = ANY(
      SELECT unnest(object_ids) FROM profiles WHERE id = auth.uid()
    )
  );

-- –ê–¥–º–∏–Ω—ã –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞ –æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å –∑–∞–ø–∏—Å–∏
CREATE POLICY "Admins and object managers can update attendance"
  ON employee_attendance FOR UPDATE
  USING (
    is_admin() OR
    object_id = ANY(
      SELECT unnest(object_ids) FROM profiles WHERE id = auth.uid()
    )
  );

-- –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å –∑–∞–ø–∏—Å–∏
CREATE POLICY "Only admins can delete attendance"
  ON employee_attendance FOR DELETE
  USING (is_admin());
```

**–õ–æ–≥–∏–∫–∞ RLS:**
- –ê–¥–º–∏–Ω—ã –≤–∏–¥—è—Ç –≤—Å–µ –∑–∞–ø–∏—Å–∏ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞ –æ–±—ä–µ–∫—Ç—ã –≤–∏–¥—è—Ç –∏ –º–æ–≥—É—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–æ–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏
- –£–¥–∞–ª—è—Ç—å –∑–∞–ø–∏—Å–∏ –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã

### 4. –¢—Ä–∏–≥–≥–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `updated_at`

```sql
CREATE TRIGGER update_employee_attendance_updated_at
  BEFORE UPDATE ON employee_attendance
  FOR EACH ROW
  EXECUTE FUNCTION update_updated_at_column();
```

### 5. –§—É–Ω–∫—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π

–î–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –º–∞—Å—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö (—Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –æ–±—ä–µ–∫—Ç—É):

```sql
CREATE OR REPLACE FUNCTION fill_employee_attendance(
  p_employee_id UUID,
  p_object_id UUID,  -- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –ø–∞—Ä–∞–º–µ—Ç—Ä: –æ–±—ä–µ–∫—Ç, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏–≤—è–∑–∞–Ω—ã —Ä–∞—Å—Ö–æ–¥—ã
  p_start_date DATE,
  p_end_date DATE,
  p_hours NUMERIC DEFAULT 8,
  p_skip_weekends BOOLEAN DEFAULT TRUE,
  p_created_by UUID DEFAULT auth.uid()
)
RETURNS INTEGER AS $$
DECLARE
  v_date DATE;
  v_count INTEGER := 0;
BEGIN
  v_date := p_start_date;
  
  WHILE v_date <= p_end_date LOOP
    -- –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –≤—ã—Ö–æ–¥–Ω—ã–µ, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ
    IF p_skip_weekends AND EXTRACT(DOW FROM v_date) IN (0, 6) THEN
      v_date := v_date + 1;
      CONTINUE;
    END IF;
    
    -- –í—Å—Ç–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º, –µ—Å–ª–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
    INSERT INTO employee_attendance (
      employee_id, 
      object_id, 
      date, 
      hours, 
      attendance_type,
      created_by
    )
    VALUES (
      p_employee_id, 
      p_object_id, 
      v_date, 
      p_hours, 
      'work',
      p_created_by
    )
    ON CONFLICT (employee_id, object_id, date) DO NOTHING;
    
    v_count := v_count + 1;
    v_date := v_date + 1;
  END LOOP;
  
  RETURN v_count;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

COMMENT ON FUNCTION fill_employee_attendance IS '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –¥–∞—Ç';

-- –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
-- SELECT fill_employee_attendance(
--   'employee-uuid',           -- ID —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
--   'object-uuid',             -- ID –æ–±—ä–µ–∫—Ç–∞ (–¶–û–î –î—É–±–Ω–∞, –û—Ñ–∏—Å, –°–∫–ª–∞–¥ –∏ —Ç.–¥.)
--   '2025-10-01'::DATE,        -- –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞
--   '2025-10-31'::DATE,        -- –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è
--   8,                         -- –ß–∞—Å–æ–≤ –≤ –¥–µ–Ω—å
--   TRUE                       -- –ü—Ä–æ–ø—É—Å–∫–∞—Ç—å –≤—ã—Ö–æ–¥–Ω—ã–µ
-- );
```

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–¥—É–ª–µ–º –¢–∞–±–µ–ª—å

#### 6.1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π Data Source: `EmployeeAttendanceDataSource`

```dart
// lib/features/timesheet/data/datasources/employee_attendance_data_source.dart

abstract class EmployeeAttendanceDataSource {
  /// –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å–∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
  Future<List<Map<String, dynamic>>> getAttendanceRecords({
    DateTime? startDate,
    DateTime? endDate,
    String? employeeId,
  });
  
  /// –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏
  Future<Map<String, dynamic>> createAttendance({
    required String employeeId,
    required DateTime date,
    required num hours,
    String attendanceType = 'work',
    String? comment,
  });
  
  /// –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏
  Future<Map<String, dynamic>> updateAttendance({
    required String id,
    num? hours,
    String? attendanceType,
    String? comment,
  });
  
  /// –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏
  Future<void> deleteAttendance(String id);
}
```

#### 6.2. –†–∞—Å—à–∏—Ä–∏—Ç—å –º–æ–¥–µ–ª—å `TimesheetEntry`

–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `source` –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö:

```dart
enum TimesheetEntrySource {
  work,      // –ò–∑ —Å–º–µ–Ω (work_hours + works)
  attendance // –ò–∑ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ (employee_attendance)
}

@freezed
class TimesheetEntry with _$TimesheetEntry {
  const factory TimesheetEntry({
    required String id,
    String? workId, // –ú–æ–∂–µ—Ç –±—ã—Ç—å null –¥–ª—è attendance
    required String employeeId,
    required num hours,
    String? comment,
    required DateTime date,
    String? objectId, // –ú–æ–∂–µ—Ç –±—ã—Ç—å null –¥–ª—è attendance
    String? employeeName,
    String? employeePosition,
    String? objectName,
    @Default(TimesheetEntrySource.work) TimesheetEntrySource source,
    String? attendanceType, // –î–ª—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞ attendance
    DateTime? createdAt,
    DateTime? updatedAt,
  }) = _TimesheetEntry;
}
```

#### 6.3. –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `TimesheetRepositoryImpl`

–û–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–≤—É—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:

```dart
@override
Future<List<TimesheetEntry>> getTimesheetEntries({
  DateTime? startDate,
  DateTime? endDate,
  String? employeeId,
  List<String>? objectIds,
  List<String>? positions,
}) async {
  // 1. –ü–æ–ª—É—á–∞–µ–º —á–∞—Å—ã –∏–∑ —Å–º–µ–Ω (work_hours)
  final workEntries = await dataSource.getTimesheetEntries(
    startDate: startDate,
    endDate: endDate,
    employeeId: employeeId,
    objectIds: objectIds,
    positions: positions,
  );

  // 2. –ü–æ–ª—É—á–∞–µ–º —á–∞—Å—ã –∏–∑ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ (employee_attendance)
  final attendanceEntries = await attendanceDataSource.getAttendanceRecords(
    startDate: startDate,
    endDate: endDate,
    employeeId: employeeId,
  );

  // 3. –û–±—ä–µ–¥–∏–Ω—è–µ–º –∏ –æ–±–æ–≥–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤/–æ–±—ä–µ–∫—Ç–æ–≤
  // ... (—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ + –æ–±—Ä–∞–±–æ—Ç–∫–∞ attendance)
  
  return resultEntries;
}
```

### 7. UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å—é

#### 7.1. –ù–æ–≤—ã–π —ç–∫—Ä–∞–Ω: `EmployeeAttendanceScreen`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤–Ω–µ —Å–º–µ–Ω (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –æ–±—ä–µ–∫—Ç–∞–º)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ **—Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –≤—ã–±–æ—Ä–æ–º –æ–±—ä–µ–∫—Ç–∞**
- –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–∞–º, –æ–±—ä–µ–∫—Ç–∞–º –∏ —Ç–∏–ø–∞–º (—Ä–∞–±–æ—Ç–∞, –æ—Ç–ø—É—Å–∫, –±–æ–ª—å–Ω–∏—á–Ω—ã–π, –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞)
- –ú–∞—Å—Å–æ–≤–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –î–ª—è –æ–±—ä–µ–∫—Ç–æ–≤: –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª –æ–±—ä–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–¶–û–î –î—É–±–Ω–∞")
- –î–ª—è –æ—Ñ–∏—Å–∞/—Å–∫–ª–∞–¥–∞: –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –æ—Ñ–∏—Å–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞ –æ–±—ä–µ–∫—Ç –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `lib/features/timesheet/presentation/screens/employee_attendance_screen.dart`

#### 7.2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `TimesheetScreen`

–û–±–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω —Ç–∞–±–µ–ª—è:
- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –≤–Ω–µ —Å–º–µ–Ω" –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞
- –í —Ñ–∏–ª—å—Ç—Ä–∞—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤–∫–ª—é—á–∏—Ç—å —Å–ª—É–∂–µ–±–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã "–û—Ñ–∏—Å" –∏ "–°–∫–ª–∞–¥"
- –í –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —á–∞—Å—ã –∏–∑ –æ–±–æ–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (—Å–º–µ–Ω—ã + –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å)
- –í–∏–∑—É–∞–ª—å–Ω–æ —Ä–∞–∑–ª–∏—á–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ –∏–ª–∏ —Ü–≤–µ—Ç–∞)

#### 7.3. –û–±–Ω–æ–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –æ–±—ä–µ–∫—Ç–∞–º

–í —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∏–ª—å—Ç—Ä–∞—Ö —Ç–∞–±–µ–ª—è:
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã (–≤–∫–ª—é—á–∞—è "–û—Ñ–∏—Å", "–°–∫–ª–∞–¥")
- –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –æ–±—ä–µ–∫—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —á–∞—Å—ã –∏–∑ —Å–º–µ–Ω + –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å
- –í PDF-—ç–∫—Å–ø–æ—Ä—Ç–µ —É—á–∏—Ç—ã–≤–∞—Ç—å –æ–±–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

### 1. –ü–æ–ª–Ω–æ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Ç–∞–±–µ–ª–µ (–∏–∑ —Å–º–µ–Ω + –≤–Ω–µ —Å–º–µ–Ω)
- ‚úÖ –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—Å–µ–π –∫–æ–º–ø–∞–Ω–∏–∏
- ‚úÖ –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª –æ–±—ä–µ–∫—Ç–æ–≤ –≤–∏–¥–µ–Ω –≤ —Ç–∞–±–µ–ª–µ –æ–±—ä–µ–∫—Ç–∞

### 2. –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —É—á—ë—Ç –§–û–¢ –ø–æ –æ–±—ä–µ–∫—Ç–∞–º
- ‚úÖ **–†–∞—Å—Ö–æ–¥—ã –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª –æ–±—ä–µ–∫—Ç–æ–≤ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç–µ** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ö—Ä–∞–Ω–∞ –¶–û–î –î—É–±–Ω–∞ ‚Üí —Ä–∞—Å—Ö–æ–¥—ã –≤ –¶–û–î –î—É–±–Ω–∞)
- ‚úÖ **–†–∞—Å—Ö–æ–¥—ã –Ω–∞ –æ—Ñ–∏—Å–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç–µ "–û—Ñ–∏—Å"/"–°–∫–ª–∞–¥"**
- ‚úÖ –ú–æ–¥—É–ª—å –§–û–¢ –º–æ–∂–µ—Ç —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –∑–∞—Ä–ø–ª–∞—Ç—É –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –æ–±—ä–µ–∫—Ç–∞–º: –ø–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª

### 3. –ì–∏–±–∫–æ—Å—Ç—å
- ‚úÖ –†–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (—Å–º–µ–Ω—ã vs –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞)
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—á–∏—Ç—ã–≤–∞—Ç—å —Ç–∏–ø—ã –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ (—Ä–∞–±–æ—Ç–∞, –æ—Ç–ø—É—Å–∫, –±–æ–ª—å–Ω–∏—á–Ω—ã–π, –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞)
- ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å–∏—Å—Ç–µ–º—ã —Å–º–µ–Ω (–Ω–µ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Å–º–µ–Ω—É –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞)
- ‚úÖ –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö –≤ –æ–¥–∏–Ω –¥–µ–Ω—å

### 4. –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é –ë–î (—Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –æ–±—ä–µ–∫—Ç—É)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –º–æ–¥—É–ª–µ–º –¢–∞–±–µ–ª—å (–µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- ‚úÖ –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞ –æ–±—ä–µ–∫—Ç—ã —É–ø—Ä–∞–≤–ª—è—é—Ç –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å—é —Å–≤–æ–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- ‚úÖ –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ –æ–±—ä–µ–∫—Ç—É

### 5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ RLS-–ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö (–¥–æ—Å—Ç—É–ø –ø–æ –æ–±—ä–µ–∫—Ç–∞–º)
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞: –∞–¥–º–∏–Ω—ã –≤–∏–¥—è—Ç –≤—Å—ë, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ ‚Äî —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –æ–±—ä–µ–∫—Ç—ã
- ‚úÖ Audit trail (created_by, created_at, updated_at)

---

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ë–î (1-2 –¥–Ω—è)
1. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `employee_attendance`
2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å RLS-–ø–æ–ª–∏—Ç–∏–∫–∏
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏
4. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î

### –≠—Ç–∞–ø 2: Backend (Data/Domain —Å–ª–æ–∏) (2-3 –¥–Ω—è)
1. ‚úÖ –°–æ–∑–¥–∞—Ç—å `EmployeeAttendanceDataSource` –∏ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—é
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª–∏ `EmployeeAttendanceModel`
3. ‚úÖ –†–∞—Å—à–∏—Ä–∏—Ç—å `TimesheetEntry` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–æ–≤–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
4. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å `TimesheetRepositoryImpl` –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
5. ‚úÖ –ü–æ–∫—Ä—ã—Ç—å unit-—Ç–µ—Å—Ç–∞–º–∏

### –≠—Ç–∞–ø 3: Frontend (Presentation —Å–ª–æ–π) (3-4 –¥–Ω—è)
1. ‚úÖ –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å—é
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å —ç–∫—Ä–∞–Ω `EmployeeAttendanceScreen`
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å –≤–∏–¥–∂–µ—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤–≤–æ–¥–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º `TimesheetScreen`
5. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –≤–∏–¥–∂–µ—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±–æ–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
6. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å PDF-—ç–∫—Å–ø–æ—Ä—Ç

### –≠—Ç–∞–ø 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (1-2 –¥–Ω—è)
1. ‚úÖ Integration-—Ç–µ—Å—Ç—ã —Å Supabase
2. ‚úÖ UI-—Ç–µ—Å—Ç—ã
3. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –º–æ–¥—É–ª—è
4. ‚úÖ –°–æ–∑–¥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** 7-11 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `work_hours` –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ `works`
**–ü–ª—é—Å—ã:** –ù–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É  
**–ú–∏–Ω—É—Å—ã:** 
- ‚ùå –ù–∞—Ä—É—à–µ–Ω–∏–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö (work_id —Å—Ç–∞–Ω–µ—Ç nullable)
- ‚ùå –°–º–µ—à–∏–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ
- ‚ùå –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞—Ç—å —Ñ–∏–∫—Ç–∏–≤–Ω—ã–µ "–æ—Ñ–∏—Å–Ω—ã–µ —Å–º–µ–Ω—ã"
**–ü–ª—é—Å—ã:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã  
**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å "—Ñ–µ–π–∫–æ–≤—ã–µ" –æ–±—ä–µ–∫—Ç—ã –¥–ª—è –æ—Ñ–∏—Å–∞
- ‚ùå –ü—É—Ç–∞–Ω–∏—Ü–∞ –≤ –æ—Ç—á—ë—Ç–∞—Ö –º–µ–∂–¥—É —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∏ –æ—Ñ–∏—Å–Ω—ã–º–∏ —Å–º–µ–Ω–∞–º–∏

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û—Ç–¥–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—á—ë—Ç–∞ (–≤–Ω–µ –º–æ–¥—É–ª—è –¢–∞–±–µ–ª—å)
**–ü–ª—é—Å—ã:** –ü–æ–ª–Ω–∞—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å  
**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- ‚ùå –†–∞–∑–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –µ–¥–∏–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤

**–í—ã–≤–æ–¥:** –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ + –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è) —è–≤–ª—è–µ—Ç—Å—è –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º –º–µ–∂–¥—É —á–∏—Å—Ç–æ—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —É–¥–æ–±—Å—Ç–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –û–±—ä–µ–∫—Ç "–¶–û–î –î—É–±–Ω–∞"

**–°–∏—Ç—É–∞—Ü–∏—è:**
- –ù–∞ –æ–±—ä–µ–∫—Ç–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å–º–µ–Ω—ã (–±—Ä–∏–≥–∞–¥—ã —Å—Ç—Ä–æ–∏—Ç–µ–ª–µ–π, –º–æ–Ω—Ç–∞–∂–Ω–∏–∫–æ–≤)
- –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª: –æ—Ö—Ä–∞–Ω–Ω–∏–∫ –ò–≤–∞–Ω–æ–≤, –¥–µ–∂—É—Ä–Ω—ã–π –∏–Ω–∂–µ–Ω–µ—Ä –ü–µ—Ç—Ä–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
1. **–°–º–µ–Ω—ã (—Ç–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞):**
   - –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–º–µ–Ω—É ‚Üí —É–∫–∞–∑—ã–≤–∞–µ—Ç –±—Ä–∏–≥–∞–¥—É ‚Üí –ø—Ä–æ—Å—Ç–∞–≤–ª—è–µ—Ç —á–∞—Å—ã
   - –ß–∞—Å—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ `work_hours` ‚Üí –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ç–∞–±–µ–ª–µ –æ–±—ä–µ–∫—Ç–∞ ‚úÖ

2. **–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª (–Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞):**
   - –ê–¥–º–∏–Ω –∏–ª–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å–∏ –≤ `employee_attendance`:
     - –ò–≤–∞–Ω–æ–≤, –¶–û–î –î—É–±–Ω–∞, 01.10.2025, 8 —á–∞—Å–æ–≤
     - –ü–µ—Ç—Ä–æ–≤, –¶–û–î –î—É–±–Ω–∞, 01.10.2025, 8 —á–∞—Å–æ–≤
   - –ß–∞—Å—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ç–∞–±–µ–ª—å –æ–±—ä–µ–∫—Ç–∞ ‚úÖ
   - –†–∞—Å—Ö–æ–¥—ã –Ω–∞ –§–û–¢ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç–µ "–¶–û–î –î—É–±–Ω–∞" ‚úÖ

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ç–∞–±–µ–ª–µ –æ–±—ä–µ–∫—Ç–∞ "–¶–û–î –î—É–±–Ω–∞":**
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∏–∑ —Å–º–µ–Ω (–±—Ä–∏–≥–∞–¥—ã)
- –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª (–ò–≤–∞–Ω–æ–≤, –ü–µ—Ç—Ä–æ–≤)
- –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –§–û–¢ ‚úÖ

### –ü—Ä–∏–º–µ—Ä 2: –û—Ñ–∏—Å–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏

**–°–∏—Ç—É–∞—Ü–∏—è:**
- –ë—É—Ö–≥–∞–ª—Ç–µ—Ä –°–∏–¥–æ—Ä–æ–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ—Ñ–∏—Å–µ
- –ú–µ–Ω–µ–¥–∂–µ—Ä –ö–æ–∑–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ—Ñ–∏—Å–µ
- –ù–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ —Å–º–µ–Ω–∞—Ö

**–†–µ—à–µ–Ω–∏–µ:**
1. –í —Å–∏—Å—Ç–µ–º–µ —Å–æ–∑–¥–∞–Ω —Å–ª—É–∂–µ–±–Ω—ã–π –æ–±—ä–µ–∫—Ç "–û—Ñ–∏—Å"
2. –ê–¥–º–∏–Ω –∏–ª–∏ HR —Å–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å–∏ –≤ `employee_attendance`:
   - –°–∏–¥–æ—Ä–æ–≤–∞, –û—Ñ–∏—Å, 01.10.2025, 8 —á–∞—Å–æ–≤
   - –ö–æ–∑–ª–æ–≤, –û—Ñ–∏—Å, 01.10.2025, 8 —á–∞—Å–æ–≤
3. –ß–∞—Å—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ç–∞–±–µ–ª—å ‚úÖ
4. –†–∞—Å—Ö–æ–¥—ã –Ω–∞ –§–û–¢ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç–µ "–û—Ñ–∏—Å" ‚úÖ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í –º–æ–¥—É–ª–µ –§–û–¢ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞—Å—Ö–æ–¥—ã –ø–æ –æ–±—ä–µ–∫—Ç—É "–û—Ñ–∏—Å"
- –í —Ç–∞–±–µ–ª–µ –º–æ–∂–Ω–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç "–û—Ñ–∏—Å" –∏ —É–≤–∏–¥–µ—Ç—å –≤—Å–µ—Ö –æ—Ñ–∏—Å–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

### –ü—Ä–∏–º–µ—Ä 3: –ú–∞—Å—Å–æ–≤–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ

**–ó–∞–¥–∞—á–∞:** –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏ –¥–ª—è –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞ –ò–≤–∞–Ω–æ–≤–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç–µ "–¶–û–î –î—É–±–Ω–∞" –Ω–∞ –≤–µ—Å—å –æ–∫—Ç—è–±—Ä—å.

**–†–µ—à–µ–Ω–∏–µ:**
```sql
SELECT fill_employee_attendance(
  'uuid-–∏–≤–∞–Ω–æ–≤–∞',                    -- ID —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
  'uuid-—Ü–æ–¥-–¥—É–±–Ω–∞',                  -- ID –æ–±—ä–µ–∫—Ç–∞
  '2025-10-01'::DATE,                -- –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞
  '2025-10-31'::DATE,                -- –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è
  8,                                 -- 8 —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å
  TRUE                               -- –ü—Ä–æ–ø—É—Å–∫–∞—Ç—å –≤—ã—Ö–æ–¥–Ω—ã–µ
);
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω—ã –∑–∞–ø–∏—Å–∏ –Ω–∞ –≤—Å–µ —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏ –æ–∫—Ç—è–±—Ä—è (–±–µ–∑ –≤—ã—Ö–æ–¥–Ω—ã—Ö).

---

## –í–æ–ø—Ä–æ—Å—ã –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è

1. **–°–ª—É–∂–µ–±–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã:** 
   - –ö–∞–∫–∏–µ —Å–ª—É–∂–µ–±–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –Ω—É–∂–Ω—ã –ø–æ–º–∏–º–æ "–û—Ñ–∏—Å" –∏ "–°–∫–ª–∞–¥"? 
   - –ù—É–∂–µ–Ω –ª–∏ –æ–±—ä–µ–∫—Ç "–£–¥–∞–ª—ë–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞" –∏–ª–∏ "–ö–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∏"?

2. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:** 
   - –ù—É–∂–Ω–∞ –ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ –æ–±—ä–µ–∫—Ç–æ–≤?
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–º –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É—á—ë—Ç–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤?

3. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** 
   - –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞ –æ–±—ä–µ–∫—Ç—ã –¥–æ–ª–∂–Ω—ã —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å—é —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤?
   - –ú–æ–≥—É—Ç –ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å–∞–º–∏ –æ—Ç–º–µ—á–∞—Ç—å —Å–≤–æ—é –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å?

4. **–ú–æ–±–∏–ª—å–Ω–∞—è –æ—Ç–º–µ—Ç–∫–∞:** 
   - –ù—É–∂–Ω–∞ –ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ—Ç–∫–∏ –ø—Ä–∏—Ö–æ–¥–∞/—É—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?

5. **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø–∏—Å–µ–π:**
   - –ú–æ–∂–µ—Ç –ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö –≤ –æ–¥–∏–Ω –¥–µ–Ω—å?
   - –¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ —ç—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç (UNIQUE –Ω–∞ employee_id + object_id + date)

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —É—á–∏—Ç—ã–≤–∞—Ç—å —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤** (–∏–∑ —Å–º–µ–Ω + –≤–Ω–µ —Å–º–µ–Ω)
- ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –§–û–¢ –ø–æ –æ–±—ä–µ–∫—Ç–∞–º** (–≤–∫–ª—é—á–∞—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –æ—Ñ–∏—Å–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤)
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–∏—Å—Ç–æ—Ç—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** (–æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å —á—ë—Ç–∫–æ–π —Å–µ–º–∞–Ω—Ç–∏–∫–æ–π)
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –º–æ–¥—É–ª–µ–º –¢–∞–±–µ–ª—å** (–µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –µ–¥–∏–Ω–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å)
- ‚úÖ **–û–±–µ—Å–ø–µ—á–∏—Ç—å –≥–∏–±–∫–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã** (–ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤)

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞:**
1. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –æ–±—ä–µ–∫—Ç "–¶–û–î –î—É–±–Ω–∞" –≤–∏–¥–∏—Ç **–ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É** —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏: —Å–º–µ–Ω—ã + –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª
2. –ú–æ–¥—É–ª—å –§–û–¢ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞—Å—Ö–æ–¥—ã **–ø–æ –∫–∞–∂–¥–æ–º—É –æ–±—ä–µ–∫—Ç—É** (–≤–∫–ª—é—á–∞—è –æ—Ñ–∏—Å –∏ —Å–∫–ª–∞–¥)
3. –í —Ç–∞–±–µ–ª–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è **–≤—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏**, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å–ø–æ—Å–æ–±–∞ —É—á—ë—Ç–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
4. –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ —Ä–∞–±–æ—á–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —É—á—ë—Ç–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –§–û–¢ –ø–æ –æ–±—ä–µ–∫—Ç–∞–º.

---

**–ü–æ–¥–≥–æ—Ç–æ–≤–∏–ª:** AI Assistant  
**–î–∞—Ç–∞:** 05.10.2025  
**–î–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è —Å:** Product Owner, Backend Lead, Flutter Lead

