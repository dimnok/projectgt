# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–º–µ–Ω –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

## üêõ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö –º–µ—Å—è—Ü–µ–≤
```dart
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
final monthEnd = DateTime(month.year, month.month + 1, 0);
// –ö–æ–≥–¥–∞ month = 12 (–¥–µ–∫–∞–±—Ä—å), month + 1 = 13 ‚Üí CRASH!

// ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
final monthEnd = month.month == 12
    ? DateTime(month.year + 1, 1, 1).subtract(const Duration(days: 1))
    : DateTime(month.year, month.month + 1, 1).subtract(const Duration(days: 1));
```

### 2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã –¥–ª—è Supabase
```dart
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
.gte('date', monthStart.toIso8601String())  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç "2025-10-01T00:00:00.000Z"
.lte('date', monthEnd.toIso8601String())

// ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
final dateFromStr = '${year}-${month.padLeft(2, '0')}-${day.padLeft(2, '0')}';  // "2025-10-01"
.gte('date', dateFromStr)
.lte('date', dateToStr)
```

Supabase –æ–∂–∏–¥–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç `YYYY-MM-DD`, –∞ –Ω–µ –ø–æ–ª–Ω—ã–π ISO8601 —Å –≤—Ä–µ–º–µ–Ω–µ–º!

### 3. –û—à–∏–±–∫–∞ –≤ getShiftsForDate
```dart
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û  
final dateStart = date;
final dateEnd = DateTime(date.year, date.month, date.day, 23, 59, 59);
.gte('date', dateStart.toIso8601String())
.lte('date', dateEnd.toIso8601String())

// ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
final dateStr = '${year}-${month}-${day}';  // "2025-10-05"
.gte('date', dateStr)
.lte('date', dateStr)
```

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

| –§–∞–π–ª | –°—Ç—Ä–æ–∫–∏ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|------|--------|-----------|
| `shifts_data_source_impl.dart` | 17-36 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ—Å—è—Ü–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç |
| `shifts_data_source_impl.dart` | 67-85 | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –≤ getShiftsForDate |

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- ‚úÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –±–æ–ª—å—à–µ –Ω–µ –∑–∞–≤–∏—Å–∞–µ—Ç –Ω–∞ –∑–∞–≥—Ä—É–∑–∫–µ
- ‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –î–µ–∫–∞–±—Ä—å –±–æ–ª—å—à–µ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
- ‚úÖ –ó–∞–ø—Ä–æ—Å—ã –∫ Supabase –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

## üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞:
1. –û–∫—Ç—è–±—Ä—å (—Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü) ‚Äî –¥–æ–ª–∂–Ω—ã –≤–∏–¥–Ω—ã –¥–∞–Ω–Ω—ã–µ
2. –î–µ–∫–∞–±—Ä—å ‚Äî –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫
3. –ö–ª–∏–∫ –Ω–∞ –¥–µ–Ω—å ‚Äî –¥–æ–ª–∂–Ω—ã –≤–∏–¥–Ω—ã –¥–µ—Ç–∞–ª–∏

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û
