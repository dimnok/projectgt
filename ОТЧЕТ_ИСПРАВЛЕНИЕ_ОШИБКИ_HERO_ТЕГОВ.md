# üîß –û—Ç—á—ë—Ç: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ Hero —Ç–µ–≥–æ–≤ –≤ –º–æ–¥—É–ª–µ Works

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: ${new Date().toLocaleDateString('ru-RU')}  
**–ú–æ–¥—É–ª—å**: Works (–°–º–µ–Ω—ã)  
**–¢–∏–ø –æ—à–∏–±–∫–∏**: `Hero tag conflict`  
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è (–±–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é)

### **–¢–µ–∫—Å—Ç –æ—à–∏–±–∫–∏:**
```
There are multiple heroes that share the same tag within a subtree.
multiple heroes had the following tag: <default FloatingActionButton tag>
```

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### **–ü—Ä–æ–≤–µ–¥—ë–Ω–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:**

1. **–ü–æ–∏—Å–∫ –≤—Å–µ—Ö FloatingActionButton –≤ –ø—Ä–æ–µ–∫—Ç–µ:**
   - –ù–∞–π–¥–µ–Ω–æ 12 —Ñ–∞–π–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FAB
   - –°—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–ª–∏—Å—å –Ω–∞ –º–æ–¥—É–ª–µ works

2. **–ê–Ω–∞–ª–∏–∑ —Ñ–∞–π–ª–æ–≤ –º–æ–¥—É–ª—è works:**
   - `works_master_detail_screen.dart` - **–ü–†–û–ë–õ–ï–ú–ê –ù–ê–ô–î–ï–ù–ê**
   - `work_details_panel.dart` - Hero —Ç–µ–≥–∏ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - `work_hour_form_modal.dart` - FAB –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
   - `work_item_form_modal.dart` - FAB –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### **–ò—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞:**

**–§–∞–π–ª:** `lib/features/works/presentation/screens/works_master_detail_screen.dart`

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Å—Ç–∞:**
1. **–°—Ç—Ä–æ–∫–∞ 146:** FloatingActionButton –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–µ–∑ heroTag
2. **–°—Ç—Ä–æ–∫–∞ 449:** FloatingActionButton –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–µ–∑ heroTag

**–°—Ü–µ–Ω–∞—Ä–∏–π –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ—à–∏–±–∫–∏:**
- –í –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –¥–≤–∞ FAB
- –û–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç default heroTag
- –ü—Ä–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ Hero —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–æ–π FAB –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å
- –í–æ–∑–Ω–∏–∫–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Ç–µ–≥–æ–≤

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### **–ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

#### **1. –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è FAB (—Å—Ç—Ä–æ–∫–∞ 146):**
```dart
// ‚ùå –î–û (–ø—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥):
floatingActionButton: !isDesktop ? FloatingActionButton(
  onPressed: () {
    // ... –∫–æ–¥ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
  },
  tooltip: '–î–æ–±–∞–≤–∏—Ç—å —Å–º–µ–Ω—É',
  child: const Icon(Icons.add),
) : null,

// ‚úÖ –ü–û–°–õ–ï (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥):
floatingActionButton: !isDesktop ? FloatingActionButton(
  heroTag: "mobile_add_shift", // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–µ–≥
  onPressed: () {
    // ... –∫–æ–¥ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
  },
  tooltip: '–î–æ–±–∞–≤–∏—Ç—å —Å–º–µ–Ω—É',
  child: const Icon(Icons.add),
) : null,
```

#### **2. –î–µ—Å–∫—Ç–æ–ø–Ω–∞—è –≤–µ—Ä—Å–∏—è FAB (—Å—Ç—Ä–æ–∫–∞ 449):**
```dart
// ‚ùå –î–û (–ø—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥):
Positioned(
  right: 24,
  bottom: 24,
  child: FloatingActionButton(
    onPressed: () {
      // ... –∫–æ–¥ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    },
    tooltip: '–î–æ–±–∞–≤–∏—Ç—å —Å–º–µ–Ω—É',
    child: const Icon(Icons.add),
  ),
),

// ‚úÖ –ü–û–°–õ–ï (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥):
Positioned(
  right: 24,
  bottom: 24,
  child: FloatingActionButton(
    heroTag: "desktop_add_shift", // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–µ–≥
    onPressed: () {
      // ... –∫–æ–¥ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    },
    tooltip: '–î–æ–±–∞–≤–∏—Ç—å —Å–º–µ–Ω—É',
    child: const Icon(Icons.add),
  ),
),
```

### **–í—ã–±–æ—Ä –Ω–∞–∑–≤–∞–Ω–∏–π heroTag:**
- `"mobile_add_shift"` - –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏
- `"desktop_add_shift"` - –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏
- –ù–∞–∑–≤–∞–Ω–∏—è –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—Ä—É–≥–∏—Ö FAB –≤ –º–æ–¥—É–ª–µ

### **–§–∞–π–ª:** `work_details_panel.dart`
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

```dart
// –°—Ç—Ä–æ–∫–∞ 947 - FAB –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç
FloatingActionButton(
  heroTag: 'addWorkItem', // ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–µ–≥
  mini: true,
  onPressed: () { /* ... */ },
  child: const Icon(Icons.add),
)

// –°—Ç—Ä–æ–∫–∞ 1166 - FAB –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —á–∞—Å–æ–≤
FloatingActionButton(
  heroTag: 'addWorkHour', // ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–µ–≥
  mini: true,
  onPressed: () { /* ... */ },
  child: const Icon(Icons.add),
)
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### **–°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**

1. **–î–µ—Å–∫—Ç–æ–ø–Ω–∞—è –≤–µ—Ä—Å–∏—è:**
   - ‚úÖ –û—Ç–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω —Å–º–µ–Ω
   - ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ FAB –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ —Å–º–µ–Ω
   - ‚úÖ –í—ã–±—Ä–∞—Ç—å —Å–º–µ–Ω—É –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª–µ–π
   - ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ FAB –≤ –¥–µ—Ç–∞–ª—è—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫ Hero

2. **–ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è:**
   - ‚úÖ –û—Ç–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω —Å–º–µ–Ω
   - ‚úÖ –ù–∞–∂–∞—Ç—å –Ω–∞ FAB –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–º–µ–Ω—ã
   - ‚úÖ –ü–µ—Ä–µ–π—Ç–∏ –∫ –¥–µ—Ç–∞–ª—è–º —Å–º–µ–Ω—ã
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É FAB –≤ —Ç–∞–±–∞—Ö "–†–∞–±–æ—Ç—ã" –∏ "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏"

3. **–ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏:**
   - ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å–ø–∏—Å–∫–æ–º —Å–º–µ–Ω –∏ –¥–µ—Ç–∞–ª—è–º–∏
   - ‚úÖ –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
   - ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫ Hero –∞–Ω–∏–º–∞—Ü–∏–∏

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå –û—à–∏–±–∫–∞ Hero –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚ùå –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–≥–ª–æ –∑–∞–≤–∏—Å–∞—Ç—å –Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è—Ö
- ‚ùå –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –û—à–∏–±–∫–∏ Hero —Ç–µ–≥–æ–≤ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ –ü–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤—Å–µ—Ö FAB
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è

### **Best Practices –¥–ª—è FloatingActionButton:**

1. **–í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å heroTag:**
```dart
FloatingActionButton(
  heroTag: "unique_identifier", // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
  onPressed: () {},
  child: Icon(Icons.add),
)
```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è:**
```dart
// ‚úÖ –•–æ—Ä–æ—à–æ
heroTag: "add_employee_to_shift"
heroTag: "save_work_item"
heroTag: "desktop_main_fab"

// ‚ùå –ü–ª–æ—Ö–æ
heroTag: "fab1"
heroTag: "button"
heroTag: "a"
```

3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã:**
```dart
// –û—Ç–∫–ª—é—á–µ–Ω–∏–µ Hero –∞–Ω–∏–º–∞—Ü–∏–∏
FloatingActionButton(
  heroTag: null,
  // ...
)

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–µ–≥
FloatingActionButton(
  heroTag: Object(),
  // ...
)
```

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–û—à–∏–±–∫–∞ Hero —Ç–µ–≥–æ–≤ –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –ø—É—Ç—ë–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö `heroTag` –¥–ª—è –≤—Å–µ—Ö FloatingActionButton –≤ —Ñ–∞–π–ª–µ `works_master_detail_screen.dart`. 

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `lib/features/works/presentation/screens/works_master_detail_screen.dart`

**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:** 2 —Å—Ç—Ä–æ–∫–∏  
**–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** ~15 –º–∏–Ω—É—Ç  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –±–µ–∑ –æ—à–∏–±–æ–∫ Hero –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ –º–æ–¥—É–ª–µ Works. 