# üí∞ –û–¢–ß–ï–¢: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—â–µ–π —Å—É–º–º—ã –∏ –≤—ã—Ä–∞–±–æ—Ç–∫–∏ –≤ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–º–µ–Ω

## üéØ –ó–∞–¥–∞—á–∞
–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–º–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—â–µ–π —Å—É–º–º—ã –∏ –≤—ã—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞ –ø–æ–¥ –±–µ–π–¥–∂–µ–º —Å—Ç–∞—Ç—É—Å–∞.

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üì± –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ä—Ç–æ—á–µ–∫
–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å –ø–æ–¥ –±–µ–π–¥–∂–µ–º —Å—Ç–∞—Ç—É—Å–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- **–û–±—â—É—é —Å—É–º–º—É —Å–º–µ–Ω—ã** - —Å—É–º–º–∞ –≤—Å–µ—Ö —Ä–∞–±–æ—Ç (work_items.total)
- **–í—ã—Ä–∞–±–æ—Ç–∫—É –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞** - –æ–±—â–∞—è —Å—É–º–º–∞ / –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

#### **–§–∞–π–ª:** `lib/features/works/presentation/screens/works_master_detail_screen.dart`

#### **–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã:**
```dart
import '../providers/work_items_provider.dart';
```

#### **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∫–∞—Ä—Ç–æ—á–µ–∫:**

**–î–æ:**
```dart
Positioned(
  top: 8,
  right: 8,
  child: AppBadge(
    text: statusText,
    color: statusColor,
  ),
),
```

**–ü–æ—Å–ª–µ:**
```dart
Positioned(
  top: 8,
  right: 8,
  child: Column(
    crossAxisAlignment: CrossAxisAlignment.end,
    children: [
      AppBadge(
        text: statusText,
        color: statusColor,
      ),
      const SizedBox(height: 8),
      // –û–±—â–∞—è —Å—É–º–º–∞ –∏ –≤—ã—Ä–∞–±–æ—Ç–∫–∞
      Consumer(
        builder: (context, ref, _) {
          // –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        },
      ),
    ],
  ),
),
```

### üìä –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–æ–≤

#### **–û–±—â–∞—è —Å—É–º–º–∞:**
```dart
final totalAmount = items.fold<double>(
  0, 
  (sum, item) => sum + (item.total ?? 0)
);
```

#### **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:**
```dart
final uniqueEmployees = hours.map((h) => h.employeeId).toSet().length;
```

#### **–í—ã—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:**
```dart
final productivityPerEmployee = uniqueEmployees > 0 
  ? totalAmount / uniqueEmployees 
  : 0.0;
```

### üé® –î–∏–∑–∞–π–Ω –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–∞–Ω–µ–ª–∏

#### **–¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞:**
- **–û–±—â–∞—è —Å—É–º–º–∞:** –∂–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç, –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç —Ç–µ–º—ã
- **–í—ã—Ä–∞–±–æ—Ç–∫–∞:** –º–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä, –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Ü–≤–µ—Ç —Ç–µ–º—ã
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ —Ç—ã—Å—è—á

### üîÑ –†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

#### **–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**
- `workItemsProvider(workId)` - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç —Å–º–µ–Ω—ã
- `workHoursProvider(workId)` - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —á–∞—Å–æ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

#### **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π:**
- **Loading:** —Å–∫—Ä—ã—Ç–∏–µ –ø–∞–Ω–µ–ª–∏ –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
- **Error:** —Å–∫—Ä—ã—Ç–∏–µ –ø–∞–Ω–µ–ª–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- **Data:** –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

### üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

#### **–î–µ—Å–∫—Ç–æ–ø–Ω–∞—è –≤–µ—Ä—Å–∏—è:**
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –∫–∞—Ä—Ç–æ—á–∫–∏
- –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é

#### **–ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è:**
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —à—Ä–∏—Ñ—Ç–æ–≤

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

#### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—â–µ–π —Å—É–º–º—ã —Å–º–µ–Ω—ã  
‚úÖ –†–∞—Å—á–µ—Ç –≤—ã—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞  
‚úÖ –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö  
‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤  
‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–æ–∫  

#### **UX —É–ª—É—á—à–µ–Ω–∏—è:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—Ä–∞–∑—É –≤–∏–¥—è—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —Å–º–µ–Ω—ã
- –ë—ã—Å—Ç—Ä–∞—è –æ—Ü–µ–Ω–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –∫–æ–º–∞–Ω–¥—ã
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –±–µ–∑ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –¥–µ—Ç–∞–ª–∏ —Å–º–µ–Ω—ã
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

#### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã —Å O(n) —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Riverpod –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ –±–ª–∞–≥–æ–¥–∞—Ä—è Consumer

### üîÆ –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ê–Ω–∏–º–∞—Ü–∏–∏:** –ø–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö
2. **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è:** –∫–ª–∏–∫ –ø–æ –ø–∞–Ω–µ–ª–∏ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ
3. **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è:** —Ä–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ —Å—É–º–º
4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ —Å–º–µ–Ω

---

## üìã –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–£—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –≤ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–º–µ–Ω. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å** - –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –ø–µ—Ä–≤–æ–º —ç–∫—Ä–∞–Ω–µ
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ  
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–µ –ø—Ä–æ–µ–∫—Ç–∞ 